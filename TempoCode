(: Temp code :)
==================================

                var requestData = {
          "serviceId": "1",
          "userName": "Sadmin",
          "password": "Sadmin#123"
        };


                Ext.Ajax.request({

                    url : url,
                    method : 'POST',
                    // useDefaultXhrHeader: false,
                    jsonData :requestData,
                    success : function (response) {
                       var json = Ext.util.JSON.decode(response.responseText);
                       token = json.token;




                        Ext.AnimationHelper.HideLoading();


                    }
                });
 
https://dl.dropboxusercontent.com/s/ubwbruegf0sn96a/Download.htm?dl=0  




    Ext.device.Notification.show({
        title: 'رسالة',
        buttons: ["موافق"],
        message:  Ext.Global.GetConfirmationMsg('msgConfirmComplaints'),
        callback: function(button) {

            //return user to home page

            Ext.Viewport.getActiveItem().reset();

        }
    });


button.up('MainNavView').push({
            xtype: 'LoginFomView',
            title: Ext.Global.GetFixedTitle()
        });





- Request Type 
- No of copies
- Est Name 
- Total Fees

- Request Number 
- Request Status
- required Attachments

- pay 




lblNoCopies
lblRequestType
lblCompanyName
lblTotalFees
lblRequestNo
lblRequestStatus
lblRequiredAttachments





{
          "serviceId": "1",
          "userName": "28881809077",
          "password": "34567"
        }






TODO:
- proposal ==
- tamween 

- Payment
- web view 
- BC & Reuests








    {
          "serviceId": "1",
          "userName": "28881809077",
          "password": "34567"
        }





"listOfCRBusinessActivities": {
                    "crBusinessActivities": [
                        {














- estiamte
- tamween 
- payment 





===================
payment


<iframe name="paymentframe" id="paymentframe" width="400px" height="400px" src="http://eservicesstg.mec.gov.qa/QNB_PaymentGateway/CS_VPC_3Party_DO_mob.aspx" id="paymentframe"></iframe>






        var form = Ext.create('Ext.form.Panel', {
                standardSubmit: true,
                url: 'http://eservicesstg.mec.gov.qa/QNB_PaymentGateway/CS_VPC_3Party_DO_mob.aspx',
                method: 'POST',
            items: [
                {xtype: 'textfield',name: 'vpc_MerchTxnRef'},
                {xtype: 'textfield',name: 'vpc_OrderInfo'},
                {xtype: 'textfield',name: 'vpc_Amount'},
                {xtype: 'textfield',name: 'vpc_Locale'}
            ],
            });


form.setValues({
                    vpc_MerchTxnRef: 'Ahmed Adly Ali',
                    vpc_OrderInfo: 'Test',
                    vpc_Amount: '100',
                    vpc_Locale : 'ar'

                });

form.element.dom.target = 'paymentframe';


form.submit(); //{target: 'paymentframe'}







open /Applications/Google\ Chrome.app --args --disable-web-security

https://dl.dropboxusercontent.com/s/ubwbruegf0sn96a/Download.htm?dl=0





localization:

- labels 
- form fields 
- Service Requests
- Direction





TODO Ahmed:

- tamween WF 
- geolocation
- sign for enterprise deployment

Hatem:
- vibration 
- Home news





acc-group
label-value


 for (var key in formData) {
  if (formData.hasOwnProperty(key)) {
        orderItems.push({ ItemID: key, value: formData[key] });
  }
}



 var infowindow = new google.maps.InfoWindow();


 var marker = new google.maps.Marker({
                    map: gMap,
                    animation: google.maps.Animation.DROP,
                    position: new google.maps.LatLng (item.Lat,item.Lng),
                    icon: 'resources/images/drop-pin.png',
                    data:item
                });

                google.maps.event.addListener(marker,'click',function(pos) {

                    var info = '<div style="font-size:16px;font-family:PFDinTextUniversal;padding-right:5px" class="branch-title">'+marker.data.Name+'</div>';
                       infowindow.setContent(info);
                       infowindow.open(gMap,marker);

                   view.down('#lblTitle').setHtml(marker.data.Name);
                   view.down('#lblAddress').setHtml(marker.data.Address);
                   view.down('#lblTel').setHtml(marker.data.Tel);
                   view.down('#lblFax').setHtml(marker.data.Fax);

                });






.list-inner{
    direction:rtl;
    background-color:#fff;
    border-bottom: solid 1px #eeeeee;

    .x-label{
        padding:0 2em 0 0 !important ;
        border:0 !important;
        color: #6f2f51;
        font-weight:bold;
    }

    .label-value{
        padding: 0 !important;
        border: 0 !important;
        color:#010101;
        font-weight:500;

    }

}






HTTPS issue:


@implementation NSURLRequest(DataController) 
+ (BOOL)allowsAnyHTTPSCertificateForHost:(NSString *)host 
{ 
return YES; 
} 
@end 




var pnlItems = view.down('#pnlItems');

Ext.each(view2Data.Items, function(item){



totalPrice += item.ItemPrice;


       pnlItems.add(
        {
            xtype: 'panel',
            layout: 'hbox',
            items:
            [

                {
            xtype: 'label',
            html: item.ItemName,
                    flex: 1

            },
              {
            xtype: 'label',
            html: item.Quantity,
                  cls:'label-value',
                    flex: 2
        }

            ]

        });


            });






                    var fsItems =view.down('#frmSupplyService1').add({xtype: 'fieldset'});




{
                xtype: 'list',
                flex: 1,
                height: '100%',
                itemId: 'lstMyCompanies',
                itemCls: 'item-company',
                itemTpl: [
                    '    <div class=\'tpl-signatory-1\'>{establishmentArabicName}</div>',
                    '    <div class=\'tpl-signatory-2\'><span class=\'FA\'>سجل تجاري: {commercialRegistration}</span> <span class=\'FB\'>{companyStatus}</span></div>',
                    ''
                ],
                onItemDisclosure: false
            }   






        Ext.each(json2.Data.Items, function(item){









var onSuccess = function(position) {
    alert('Latitude: '          + position.coords.latitude          + '\n' +
          'Longitude: '         + position.coords.longitude         + '\n' +
          'Altitude: '          + position.coords.altitude          + '\n' +
          'Accuracy: '          + position.coords.accuracy          + '\n' +
          'Altitude Accuracy: ' + position.coords.altitudeAccuracy  + '\n' +
          'Heading: '           + position.coords.heading           + '\n' +
          'Speed: '             + position.coords.speed             + '\n' +
          'Timestamp: '         + position.timestamp                + '\n');
};

// onError Callback receives a PositionError object
//
function onError(error) {
    alert('code: '    + error.code    + '\n' +
          'message: ' + error.message + '\n');
}

{[this.CheckLang(values.establishmentArabicName, values.establishmentEnglishName)]}
if(Ext.Global.LanguageFlag=='ar')
    return ar;
else
    return en;




<span class="brief">{PublishDate}</span>


position.coords.latitude
position.coords.longitude


Ext.Localization.LocalizeView(this);





    Ext.device.Notification.show({
        title: Ext.Localization.GetMessage('Error'),
        buttons:[Ext.Localization.GetMessage('OK')],
        message: Ext.Localization.GetMessage('ErrSearchKeyword')
    });



    view.down('#imgDetails')
.setSrc(Ext.Global.GetConfig('CMSWSUrl')+"/Recall/Image/"+data.Id);


selfreg1




 Ext.device.Notification.show({
                title: Ext.Localization.GetMessage('Confirm'),
                buttons: [Ext.Localization.GetMessage('OK')],
                message:  Ext.Localization.GetMessage('CaseSubmitted')
            });




==================================
- TODO

= Tamween Emil 
= add branches and tamween content 
= add registration links 


= add MEC ERP 


= printout issues
- Tamween issues 
- Issues 
- Localization 
- QID



- PDF Viewer https://github.com/SunboX/st2_pdf_panel
==================================







// add tab function on text field
var me = this;
me.element.on('tap', function(){

    var btn = this;
    var config = {
        title: "نوع الشكوي",
        items: [
            { text: "Type 1", value: "Type 1" },
            { text: "Type 2", value: "Type 2" },
            { text: "Type 3", value: "Type 3" },
            { text: "Type 4", value: "Type 4" },
            { text: "Type 5", value: "Type 5" },
            { text: "Type 6", value: "Type 6" }

        ],
        selectedValue: "1",
        doneButtonLabel: "ٌختيار",
        cancelButtonLabel: "الغاء"
    };

    Ext.DeviceController.ShowNativePicker(me,config);


}, me);




establishmentRegNumber
Ext.getCmp('#establishmentRegNumber').setHtml(company.moiEstablishmentId);



Ext.Global.GetConfig('CMSWSUrl')


====================
xcodebuild clean -project Mec_App.xcodeproj -configuration Release -alltargets
xcodebuild archive -project Mec_App.xcodeproj -scheme MEC_App -archivePath Mec_App.xcarchive
xcodebuild -exportArchive -archivePath Mec_App.xcarchive -exportPath MEC_App -exportFormat ipa -exportProvisioningProfile MEC_DISTRIBUTION
========================



MEC Version
https://dl.dropboxusercontent.com/s/ubwbruegf0sn96a/Download.htm?dl=0 


Dev version
https://dl.dropboxusercontent.com/s/fqbluiaj5ub6md1/Download.htm?dl=0




    if(json.listOfPrimaryEstablishment.primaryEstablishment.length>0)
        {
 


    }else{


    Ext.device.Notification.show({
        title:Ext.Localization.GetMessage('Message'),
        buttons: [Ext.Localization.GetMessage('OK')],
        message:  Ext.Localization.GetMessage('NoData')
    });




    }




     Ext.Viewport.getActiveItem().getNavigationBar().fireEvent('back', view);
              


selfreg1

5123456789012346







              شركة الجيدة للسيارات
     44638787   44638786
Jaidahautomotivecrm@jaida.com.qa









 var infowindow = new google.maps.InfoWindow();


الكميات بالاعلي هي الكميات المتاحة في رصيد المستخدم





New release:
- All content from CMS


24463400244 no data 
23663400477 Blocked

invalidInputError
contactError
EstablishmentError







{"d":{"Data":{"SessionID":"22o5f2bic1knye2wpfzb2d1a"},"ErrorMessage":"","Status":"Success"},"Data_tmp":{"SessionID":"22o5f2bic1knye2wpfzb2d1a"},"ErrorMessage_tmp":"","Status_tmp":"Success"}






selfreg1
    
{"Data":{"SessionID":"aknwnvu4adhdukvgojrvksxw"},"ErrorMessage":"","Status":"Success"}




alert(Ext.util.JSON.encode(requestData));














    
var me = this;
me.element.on('tap', function(){

    var data = {TitleKey:'SelectProduct', ReturnView:'WhereToShopView', links: me.up('WhereToShopView').links, KeyField:'Id',ValueField:'ProductName'};

    Ext.Viewport.getActiveItem().push({
                xtype: 'GenericSelectView',
                title: Ext.Global.GetFixedTitle(),
                data:data

            });




});









                                             //get report
                                             Ext.AnimationHelper.ShowLoading();



                                             Ext.Ajax.request({

                                                 url : Ext.Global.GetConfig('CMSWSUrl')+ '/QuarterlyBusinessReport/GetLastQuarterlyBusinessReports?culture='+ Ext.Global.LanguageFlag +'&pageIndex=0&pageSize=2&categoryId='+selectedValue,
                                                 method : 'Get',
                                                 success : function (response) {

                                                     var json = Ext.util.JSON.decode(response.responseText);

                                                     Ext.AnimationHelper.HideLoading();


                                                     var view = btn.up('BusinessIndicatorsView');

                                                     if(json.length>0)
                                                     {
                                                         var store = new Ext.data.Store({
                                                             data : json
                                                         });





                                                         view.down('#GridHeader').show();
                                                         view.down('#GridSubHeader').show();
                                                         view.down('#grdMainCRs').show();
                                                         view.down('#GridSubHeader1').show();
                                                         view.down('#grdSubCRs').show();
                                                         view.down('#GridHeader1').show();
                                                         view.down('#GridSubHeader2').show();
                                                         view.down('#grdMainCRs2').show();
                                                         view.down('#GridSubHeader3').show();
                                                         view.down('#grdSubCRs2').show();




                                                         view.down('#grdMainCRs').setStore(store).setHeight(json.length * 2.3 +'em').setScrollable(false);
                                                         view.down('#grdSubCRs').setStore(store).setHeight(json.length * 2.3 +'em').setScrollable(false);
                                                         view.down('#grdMainCRs2').setStore(store).setHeight(json.length * 2.3 +'em').setScrollable(false);
                                                         view.down('#grdSubCRs2').setStore(store).setHeight(json.length * 2.3 +'em').setScrollable(false);




                                                     }else{


                                                         view.down('#GridHeader').hide();
                                                         view.down('#GridSubHeader').hide();
                                                         view.down('#grdMainCRs').hide();
                                                         view.down('#GridSubHeader1').hide();
                                                         view.down('#grdSubCRs').hide();
                                                         view.down('#GridHeader1').hide();
                                                         view.down('#GridSubHeader2').hide();
                                                         view.down('#grdMainCRs2').hide();
                                                         view.down('#GridSubHeader3').hide();
                                                         view.down('#grdSubCRs2').hide();




                                                         Ext.device.Notification.show({
                                                             title:Ext.Localization.GetMessage('Message'),
                                                             buttons: [Ext.Localization.GetMessage('OK')],
                                                             message:  Ext.Localization.GetMessage('NoData')
                                                         });




<NewDataSet xmlns=""><Table diffgr:id="Table1" msdata:rowOrder="0"><Store_x0020_ID>01</Store_x0020_ID><Store_x0020_Name>Carrefour</Store_x0020_Name><Store_x0020_Name_x0020_Arabic>كارفور</Store_x0020_Name_x0020_Arabic></Table></NewDataSet>





    - CMS updates
        ○ Economic indicators to use category
        ○ Economic indicators details:
            § Remove Million to be part of the CMS
            § Add % sign to change percent 
            § Daily price: add buildin material
            § Weekly price (Consumer) - add category
Web service







- Sizing
- WS 
- send list of 3.1






a533f1e0907fa3cabe7e08dd2dd660ea01ddb42e
Omar: oabusalibah@mec.gov.qa


MEC.MECQATAR







mec_bss-vpnuser11
HT1p4fGh8to)0p&#%.




shopLocation
txtCategory
txtComplaint
fullName
email
mobile
txtBarCode



1747
2948
2845
85


2931



