{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "PrintOffsController"
    },
    "name": "MyController",
    "designerId": "0368eb08-6654-4c62-a283-ee255be7364b",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#btnPrintoffsNext",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Ext.Button",
                "fn": "onBtnPrintoffsNextTap",
                "implHandler": [
                    "",
                    "// Create Case with Form Values",
                    "",
                    "",
                    "var view = this.getPrintOffsView1();",
                    "",
                    "Ext.AnimationHelper.ShowLoading();",
                    "",
                    "var requestData = {",
                    "    \"serviceId\": \"9\",",
                    "    \"token\": Ext.Global.userToken,",
                    "    \"language\": \"ar\",",
                    "    \"identityType\": 'QID',//Ext.Global.identityType,",
                    "    \"identityNum\": '120699',//Ext.Global.identityNum,",
                    "    \"identityNationality\": Ext.Global.identityNationality,",
                    "    \"commercialRegistrationNum\":view.down('#hiddenCompanyCR').getValue(),",
                    "    \"caseType\":view.down('#hiddenPrintoutType').getValue(),",
                    "    \"establishmentSpcId\":\"\",",
                    "    \"caseSubType\":\"01\",",
                    "    \"contactId\":\"\",",
                    "    \"numOfCopies\":view.down('#txtNoOfCopies').getValue(),",
                    "    \"moiEstablishmentNum\":\"\",",
                    "    \"qatarChamberNum\":\"\",",
                    "    \"commercialPermitNum\":\"\",",
                    "    \"economicalNum\":\"\"",
                    "};",
                    "",
                    "",
                    "",
                    "",
                    "Ext.Ajax.request({",
                    "",
                    "    url : Ext.Global.GetConfig('webServiceUrl'),",
                    "    method : 'POST',",
                    "    jsonData :requestData,",
                    "    success : function (response) {",
                    "        var json = Ext.util.JSON.decode(response.responseText);",
                    "",
                    "        //console.log(json);",
                    "        Ext.Viewport.getActiveItem().push({",
                    "            xtype: 'PrintOffsView2',",
                    "            title: Ext.Global.GetFixedTitle(),",
                    "            data: json",
                    "        });",
                    "",
                    "",
                    "        Ext.AnimationHelper.HideLoading();",
                    "",
                    "",
                    "    }",
                    "});",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "tap"
            },
            "name": "onBtnPrintoffsNextTap",
            "designerId": "0233c940-3fd3-4fdd-a6cd-0c6b4a4f6419"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "PrintOffsView1",
                "selector": "#PrintOffsView1"
            },
            "name": "PrintOffsView1",
            "designerId": "77def958-c6bf-42c4-b0ae-91fc009675a9"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "panel#PrintOffsView2",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.Panel",
                "fn": "onPrintOffsView2Initialize",
                "implHandler": [
                    "         var view = this.getPrintOffsView2();",
                    "        var json = view.getData();",
                    "",
                    "view.down('#lblRequestType').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].type);",
                    "view.down('#lblNoCopies').setHtml('');",
                    "view.down('#lblCompanyName').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].orgNameARA);",
                    "view.down('#lblTotalFees').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].listOfMecCaseFees.mecCaseFees[0].feesTotalValue);",
                    "",
                    "",
                    "view.down('#lblRequestNo').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].serialNumber);",
                    "view.down('#hiddenSerialNo').setValue(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].recordID);",
                    "",
                    "view.down('#lblRequestStatus').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].status);",
                    "",
                    "var noOfAttachments = json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].listOfMecUnifiedAttachmentParameters.mecUnifiedAttachmentParameters.length;",
                    " ",
                    "if(noOfAttachments===0){",
                    "    view.down('#lblRequiredAttachments').setHtml('لا يوجد');",
                    "    }",
                    "",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "initialize"
            },
            "name": "onPrintOffsView2Initialize",
            "designerId": "3eafd1aa-1a1a-438d-ac6e-7a14b35734d4"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "PrintOffsView2",
                "selector": "#PrintOffsView2"
            },
            "name": "PrintOffsView2",
            "designerId": "58420c99-6c2e-4df2-ab37-270ec7d63403"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#btnPrintoffs2Next",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Ext.Button",
                "fn": "onBtnPrintoffs2NextTap",
                "implHandler": [
                    "         Ext.AnimationHelper.ShowLoading();",
                    "",
                    "                 var view = this.getPrintOffsView2();",
                    "                 var serialNo =  view.down('#hiddenSerialNo').getValue();",
                    "",
                    "",
                    "",
                    "                var requestData = {",
                    "  \"serviceId\": \"10\",",
                    "  \"token\": Ext.Global.userToken,",
                    "  \"objectSpcId\": serialNo,",
                    "  \"caseSerialNum\":\"\"",
                    "};",
                    "",
                    "",
                    "                Ext.Ajax.request({",
                    "",
                    "                    url : Ext.Global.GetConfig('webServiceUrl'),",
                    "                    method : 'POST',",
                    "                    jsonData :requestData,",
                    "                    success : function (response) {",
                    "                       var json = Ext.util.JSON.decode(response.responseText);",
                    "",
                    "",
                    "                        alert('Show Confirmation');",
                    "",
                    "                        ",
                    "                        console.log(json);",
                    "",
                    "",
                    "                        Ext.AnimationHelper.HideLoading();",
                    "",
                    "",
                    "                    }",
                    "                });",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "tap"
            },
            "name": "onBtnPrintoffs2NextTap",
            "designerId": "8a6b7185-3f88-4567-a743-c92f2a91baa4"
        }
    ]
}