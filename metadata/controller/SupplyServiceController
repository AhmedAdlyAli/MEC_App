{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "SupplyServiceController",
        "designer|userClassName": "SupplyServiceController"
    },
    "name": "MyController",
    "designerId": "d8a2aa82-54b8-4881-85df-6ce7ae4aa4af",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "panel#SupplyServiceView1",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.Panel",
                "fn": "onSupplyServiceView1Initialize",
                "implHandler": [
                    "",
                    "var url = Ext.Global.GetConfig('supplyWebServiceUrl')+ '/GetFamilyDetails';",
                    "var requestData = {\"qid\":\"24263400239\", \"languageID\":\"2\", \"mobileDeviceID\":\"1231\"};",
                    "",
                    "",
                    "Ext.AnimationHelper.ShowLoading();",
                    "",
                    "Ext.Ajax.request({",
                    "",
                    "    url : url,",
                    "    method : 'POST',",
                    "    jsonData :requestData,",
                    "    success : function (response) {",
                    "",
                    "        var json1 = Ext.util.JSON.decode(response.responseText);",
                    "        var json2 = Ext.util.JSON.decode(json1.d);",
                    "",
                    "",
                    "        Ext.ComponentQuery.query(\"#lblFamilyCount\")[0].setHtml(json2.Data.FamilyMembers.length);",
                    "",
                    "        //console.log(json2);",
                    "",
                    "",
                    "        //Ext.AnimationHelper.HideLoading();",
                    "",
                    "",
                    "    },",
                    "    failure: function(request, resp) {",
                    "        alert(\"in failure\");",
                    "    }",
                    "});",
                    "",
                    "",
                    "",
                    "///////////////////////////",
                    "",
                    "",
                    "",
                    "var url2 = Ext.Global.GetConfig('supplyWebServiceUrl')+ '/GetFamilyItemDetails';",
                    "var requestData2 = {\"qid\":\"24263400239\", \"languageID\":\"1\", \"mobileDeviceID\":\"1231\"};",
                    "",
                    "",
                    "Ext.AnimationHelper.ShowLoading();",
                    "",
                    "Ext.Ajax.request({",
                    "",
                    "    url : url2,",
                    "    method : 'POST',",
                    "    jsonData :requestData2,",
                    "    success : function (response) {",
                    "",
                    "        var json1 = Ext.util.JSON.decode(response.responseText);",
                    "        var json2 = Ext.util.JSON.decode(json1.d);",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "        var store = new Ext.data.Store({",
                    "            data : json2.Data.Items",
                    "        });",
                    "",
                    "       // console.log(json2);",
                    "",
                    "        var lst = Ext.getCmp('lstSuppyItems');",
                    "        lst.setStore(store);",
                    "",
                    "",
                    "        lst.setHeight(json2.Data.Items.length * 4 + 'em');",
                    "        lst.setScrollable(false);",
                    "",
                    "",
                    "",
                    "        Ext.AnimationHelper.HideLoading();",
                    "",
                    "",
                    "    },",
                    "    failure: function(request, resp) {",
                    "        alert(\"in failure\");",
                    "    }",
                    "});",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "initialize"
            },
            "name": "onSupplyServiceView1Initialize",
            "designerId": "8a6d8fd0-ef3f-4876-a07d-0bf55bc4ceb8"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "lblFamilyCount",
                "selector": "#lblFamilyCount"
            },
            "name": "lblFamilyCount",
            "designerId": "befb1f3b-f155-454c-98a6-fc2d6fab2cd2"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "button#btnSupplyNext1",
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "designer|targetType": "Ext.Button",
                "fn": "onBtnSupplyNext1Tap",
                "implHandler": [
                    "",
                    "  Ext.Viewport.getActiveItem().push({",
                    "            xtype: 'SupplyServiceView2',",
                    "            title:  Ext.Global.GetFixedTitle()",
                    "        });",
                    "",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "tap"
            },
            "name": "onBtnSupplyNext1Tap",
            "designerId": "b6627f29-ed00-48bb-a2f5-19e325092a38"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "map#mapSuppliers",
                "designer|params": [
                    "component",
                    "eOpts"
                ],
                "designer|targetType": "Ext.Map",
                "fn": "onMapSuppliersInitialize",
                "implHandler": [
                    " ",
                    "var map = component.getMap();",
                    "",
                    "",
                    "console.log(map.getCenter());",
                    "",
                    "",
                    "var url = Ext.Global.GetConfig('supplyWebServiceUrl')+ '/GetNearbyDealers';",
                    "        ",
                    "",
                    "var requestData =  {\"qid\":\"24263400239\", \"languageID\":\"2\", ",
                    "                    \"mobileDeviceID\":\"1231\", ",
                    "                    \"latitude\":map.getCenter().k, ",
                    "                    \"longtitude\":map.getCenter().D};",
                    "",
                    "",
                    "",
                    "",
                    "        Ext.AnimationHelper.ShowLoading();",
                    "",
                    "        Ext.Ajax.request({",
                    "",
                    "            url : url,",
                    "            method : 'POST',",
                    "            jsonData :requestData,",
                    "            success : function (response) {",
                    "",
                    "                var json1 = Ext.util.JSON.decode(response.responseText);",
                    "                var json2 = Ext.util.JSON.decode(json1.d);",
                    "",
                    "",
                    "                ",
                    "                console.log(json2);",
                    "",
                    "",
                    "                //Ext.AnimationHelper.HideLoading();",
                    "",
                    "",
                    "            },",
                    "            failure: function(request, resp) {",
                    "                alert(\"in failure\");",
                    "            }",
                    "        });",
                    "",
                    "",
                    "",
                    ""
                ],
                "name": "initialize"
            },
            "name": "onMapSuppliersInitialize",
            "designerId": "302fa9a4-c943-4b40-a791-3130a8860b7e"
        }
    ]
}