{
    "type": "Ext.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "cls": [
            "contact-us-view"
        ],
        "designer|userAlias": "MinistryBranchesView",
        "designer|userClassName": "MinistryBranchesView",
        "itemId": "MinistryBranchesView",
        "layout": "vbox",
        "scrollable": [
            "{ direction: 'vertical', directionLock: true }"
        ]
    },
    "name": "ContactUs2View1",
    "configAlternates": {
        "scrollable": "object"
    },
    "designerId": "83326af1-7026-41be-abb0-35d5803d3cd7",
    "cn": [
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "inners-title"
                ],
                "html": "فروع الوزارة"
            },
            "name": "MyLabel",
            "designerId": "141444f4-0d9e-4162-89c6-26a7188dd23c"
        },
        {
            "type": "Ext.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "map-panel"
                ]
            },
            "name": "MyPanel24",
            "designerId": "84597015-aea5-4907-a46c-cb7a2bd69bc4",
            "cn": [
                {
                    "type": "Ext.Map",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "docked": null,
                        "height": 420,
                        "id": "mymap1",
                        "itemId": "mymap",
                        "mapOptions": [
                            "{disableDefaultUI: true}"
                        ],
                        "width": null
                    },
                    "name": "MyMap",
                    "designerId": "d5240c1d-d7c6-4da4-9caa-4ad9617c06fc"
                }
            ]
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "initialize",
                "implHandler": [
                    "this.callParent();",
                    "",
                    "var view = this;",
                    "",
                    "var mapPanel = this.down('map');",
                    "var gMap = mapPanel.getMap();",
                    "",
                    "Ext.Function.defer(function(){",
                    "",
                    "    if (gMap === null) {",
                    "        //Ext.Function.defer(this.initMap,500,this);",
                    "    } else {",
                    "        // ready to start calling google map methods",
                    "",
                    "        // alert('not null');",
                    "",
                    "",
                    "        gMap.setCenter(new google.maps.LatLng (25.321283,51.528329));",
                    "        gMap.setZoom(11);",
                    "",
                    "",
                    "        var branches = [",
                    "            {Name:'الفرع الرئيسي',Lat:'25.321283',Lng:'51.528329',Address:'TBD',Tel:'123',Fax:'456'},",
                    "",
                    "            {Name:'مركز جوازات الشحانيه',Lat:'25.3769',Lng:'51.23146',Address:'TBD',Tel:'123',Fax:'456'},",
                    "            {Name:'بلديه الريان',Lat:'25.30137',Lng:'51.43637',Address:'TBD',Tel:'123',Fax:'456'},",
                    "            {Name:'بلديه ام صلال لترخيص',Lat:'25.41506',Lng:'51.39724',Address:'TBD',Tel:'123',Fax:'456'},",
                    "            {Name:'ام صلال لتسجيل',Lat:'25.4679',Lng:'51.40586',Address:'TBD',Tel:'123',Fax:'456'},",
                    "            {Name:'مركز شرطه الزباره',Lat:'25.82954',Lng:'51.34425',Address:'TBD',Tel:'123',Fax:'456'},",
                    "            {Name:'مجمع خدمات الهلال',Lat:'25.26332',Lng:'51.53486',Address:'TBD',Tel:'123',Fax:'456'},",
                    "            {Name:'بلدية الظعاين',Lat:'25.5636',Lng:'51.45246',Address:'TBD',Tel:'123',Fax:'456'},",
                    "            {Name:'بلدية الوكرة',Lat:'25.16715',Lng:'51.59787',Address:'TBD',Tel:'123',Fax:'456'}",
                    "                        ];",
                    "",
                    "",
                    "      var infowindow = new google.maps.InfoWindow();",
                    "",
                    "",
                    "var int = 0;",
                    "        ",
                    "        Ext.each(branches,function(item){",
                    "        ",
                    "                var marker = new google.maps.Marker({",
                    "                    map: gMap,",
                    "                    animation: google.maps.Animation.DROP,",
                    "                    position: new google.maps.LatLng (item.Lat,item.Lng),",
                    "                    icon: 'resources/images/drop-pin.png',",
                    "                    data:item",
                    "                });",
                    "",
                    "                google.maps.event.addListener(marker,'click',function(pos) {",
                    "",
                    "                    var info = '<div style=\"font-size:16px;font-family:PFDinTextUniversal;padding-right:5px\" class=\"branch-title\">'+marker.data.Name+'</div>';",
                    "                       infowindow.setContent(info);",
                    "                       infowindow.open(gMap,marker);",
                    "",
                    "                   view.down('#lblTitle').setHtml(marker.data.Name);",
                    "                   view.down('#lblAddress').setHtml(marker.data.Address);",
                    "                   view.down('#lblTel').setHtml(marker.data.Tel);",
                    "                   view.down('#lblFax').setHtml(marker.data.Fax);",
                    "",
                    "                });",
                    "            ",
                    "            ",
                    "            if(int===0)",
                    "            { ",
                    "                new google.maps.event.trigger( marker, 'click' );",
                    "            ",
                    "            }",
                    "            ",
                    "            int++;",
                    "        });",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "    }",
                    "} ,300,this);",
                    "",
                    "",
                    "",
                    "",
                    "",
                    "mapPanel.element.on({",
                    "    tap: this.domEvent,",
                    "    touchstart:this.domEvent,",
                    "    touchmove:this.domEvent,",
                    "    touchdown:this.domEvent,",
                    "    scroll:this.domEvent,",
                    "    pinch:this.domEvent,",
                    "    pinchstart:this.domEvent,",
                    "    pinchend:this.domEvent",
                    "});"
                ]
            },
            "name": "initialize",
            "designerId": "4dca1ce0-1150-4fb6-8cce-86967f14fb04"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "evt",
                    "el",
                    "o"
                ],
                "fn": "domEvent",
                "implHandler": [
                    "evt.stopPropagation();"
                ]
            },
            "name": "domEvent",
            "designerId": "90c5cd80-0217-47e0-b37b-cf6f434c0e55"
        },
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "branch-title"
                ],
                "itemId": "lblTitle"
            },
            "name": "MyLabel1",
            "designerId": "a17c7d26-e14a-46bf-baaf-71812226bdb3"
        },
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "branch-address"
                ],
                "itemId": "lblAddress"
            },
            "name": "MyLabel2",
            "designerId": "a4b449ec-217d-4521-83a6-36a3c02b313e"
        },
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "branch-goto"
                ],
                "itemId": "lblGoTo"
            },
            "name": "MyLabel4",
            "designerId": "29a293f4-bf61-4e9c-b132-baa01b260980"
        },
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "branch-tel"
                ],
                "itemId": "lblTel"
            },
            "name": "MyLabel5",
            "designerId": "549caf13-ee89-407b-abd2-dd7053736566"
        },
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "branch-fax"
                ],
                "itemId": "lblFax"
            },
            "name": "MyLabel7",
            "designerId": "9283c81f-c205-4733-8d38-0e2feca211ab"
        }
    ]
}