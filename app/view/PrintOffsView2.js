/*
 * File: app/view/PrintOffsView2.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MEC_App.view.PrintOffsView2', {
    extend: 'Ext.Panel',
    alias: 'widget.PrintOffsView2',

    requires: [
        'Ext.Label',
        'Ext.Panel',
        'Ext.Button',
        'Ext.field.Hidden',
        'MEC_App.controller.DeviceController'
    ],

    config: {
        itemId: 'PrintOffsView2',
        layout: 'vbox',
        cls: [
            'complaint-view',
            'rtl'
        ],
        scrollable: {
            direction: 'vertical',
            directionLock: true
        },
        items: [
            {
                xtype: 'label',
                cls: 'inners-title',
                html: 'طلب مستخرجات',
                itemId: 'lblTitle'
            },
            {
                xtype: 'panel',
                cls: 'acc-group',
                itemId: 'pnlData',
                items: [
                    {
                        xtype: 'label',
                        html: 'نوع المستخرج',
                        itemId: 'lbl1'
                    },
                    {
                        xtype: 'label',
                        cls: 'label-value',
                        itemId: 'lblRequestType'
                    },
                    {
                        xtype: 'label',
                        html: 'عدد النسخ',
                        id: 'lbl2'
                    },
                    {
                        xtype: 'label',
                        cls: [
                            'label-value',
                            'lblNoCopies'
                        ],
                        itemId: 'lblNoCopies'
                    },
                    {
                        xtype: 'label',
                        html: 'اسم المنشأة',
                        itemId: 'lbl3'
                    },
                    {
                        xtype: 'label',
                        cls: 'label-value',
                        itemId: 'lblCompanyName'
                    },
                    {
                        xtype: 'label',
                        html: 'إجمالي الرسوم',
                        itemId: 'lbl4'
                    },
                    {
                        xtype: 'label',
                        cls: 'label-value',
                        itemId: 'lblTotalFees'
                    },
                    {
                        xtype: 'label',
                        html: 'رقم الطلب',
                        itemId: 'lbl5'
                    },
                    {
                        xtype: 'label',
                        cls: 'label-value',
                        itemId: 'lblRequestNo'
                    },
                    {
                        xtype: 'label',
                        html: 'حالة الطلب',
                        itemId: 'lbl6'
                    },
                    {
                        xtype: 'label',
                        cls: 'label-value',
                        itemId: 'lblRequestStatus'
                    },
                    {
                        xtype: 'button',
                        handler: function(button, e) {

                            var view = button.up('PrintOffsView2'); //this.getPrintOffsView2();
                            var serialNo =  view.down('#hiddenSerialNo').getValue();

                            var formData = view.getData();
                            var company = formData.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0];



                            Ext.Viewport.getActiveItem().push({
                                xtype: 'PrintOffsView3',
                                title: Ext.Global.GetFixedTitle(),
                                data: company
                            });









                        },
                        cls: 'btn-send',
                        itemId: 'btnPrintoffs2Next',
                        text: 'تأكيد ودفع'
                    },
                    {
                        xtype: 'hiddenfield',
                        itemId: 'hiddenSerialNo'
                    }
                ]
            }
        ]
    },

    initialize: function() {
        Ext.Localization.LocalizeView(this);

        var view = this; //this.getPrintOffsView2();
        var json = view.getData();


        view.down('#lblRequestType').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].type);

        view.down('#lblNoCopies').setHtml(json.NoOfCopies);

        view.down('#lblCompanyName').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].orgNameARA);
        view.down('#lblTotalFees').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].listOfMecCaseFees.mecCaseFees[0].feesTotalValue);



        view.down('#lblRequestNo').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].serialNumber);
        view.down('#hiddenSerialNo').setValue(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].recordID);

        view.down('#lblRequestStatus').setHtml(json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].status);


        /*var noOfAttachments = json.listOfMecBssCreatedCaseIo.mecLlcEstablishment[0].listOfMecUnifiedAttachmentParameters.mecUnifiedAttachmentParameters.length;


        if(noOfAttachments===0){
            view.down('#lblRequiredAttachments').setHtml('لا يوجد');
        }*/



        this.callParent();
    }

});