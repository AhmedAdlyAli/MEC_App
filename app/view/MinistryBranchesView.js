/*
 * File: app/view/MinistryBranchesView.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MEC_App.view.MinistryBranchesView', {
    extend: 'Ext.Panel',
    alias: 'widget.MinistryBranchesView',

    requires: [
        'Ext.Label',
        'Ext.Panel',
        'Ext.Map'
    ],

    config: {
        cls: 'contact-us-view',
        itemId: 'MinistryBranchesView',
        layout: 'vbox',
        scrollable: {
            direction: 'vertical',
            directionLock: true
        },
        items: [
            {
                xtype: 'label',
                cls: 'inners-title',
                html: 'فروع الوزارة'
            },
            {
                xtype: 'panel',
                cls: 'map-panel',
                items: [
                    {
                        xtype: 'map',
                        height: 250,
                        id: 'mymap1',
                        itemId: 'mymap'
                    }
                ]
            }
        ]
    },

    initialize: function() {
        this.callParent();

        var mapPanel = this.down('map');
        var gMap = mapPanel.getMap();

        Ext.Function.defer(function(){

            if (gMap === null) {
                Ext.Function.defer(this.initMap,500,this);
            } else {
                // ready to start calling google map methods

                // alert('not null');


                gMap.setCenter(new google.maps.LatLng (25.321283,51.528329));


                var marker = new google.maps.Marker({
                    map: gMap,
                    animation: google.maps.Animation.DROP,
                    position: new google.maps.LatLng (25.321283,51.528329),
                    icon: 'resources/images/drop-pin.png'
                });

            }
        } ,300,this);

        mapPanel.element.on({
            tap: this.domEvent,
            touchstart:this.domEvent,
            touchmove:this.domEvent,
            touchdown:this.domEvent,
            scroll:this.domEvent,
            pinch:this.domEvent,
            pinchstart:this.domEvent,
            pinchend:this.domEvent
        });
    },

    domEvent: function(evt, el, o) {
        evt.stopPropagation();
    }

});